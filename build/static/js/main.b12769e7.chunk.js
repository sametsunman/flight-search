(this["webpackJsonpflight-search"]=this["webpackJsonpflight-search"]||[]).push([[0],{177:function(e,t,a){},188:function(e,t,a){},192:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),r=a(35),c=a.n(r),s=(a(177),a(286)),l=a(287),o=a(279),d=a(288),j=a(134),u=a.n(j),h=a(2);var b=function(){return Object(h.jsx)(s.a,{position:"static",children:Object(h.jsxs)(l.a,{children:[Object(h.jsx)(d.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:1},children:Object(h.jsx)(u.a,{})}),Object(h.jsx)(o.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Flight Search"})]})})},m=a(10),f=a(284),x=a(270),p=a(42),O=a.n(p),g=a(56),v=a(290),y=a(275),S=a(271),C=a(274),N=a.p+"static/media/Forward.01c7fd21.svg",D=a(289);var T=function(e){var t=e.data,a=e.passengerCount;return Object(h.jsx)(h.Fragment,{children:t.map((function(e,t){var i,n,r,c;return Object(h.jsx)("div",{className:"card mb-3",id:"ticket_card",children:Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsxs)("div",{style:{display:"flex"},children:[Object(h.jsx)("div",{style:{width:"60%",fontSize:"13px",display:"flex",lineHeight:"1.5rem"},children:Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{style:{marginBottom:"6px",display:"flex",justifyContent:"space-between"},children:[Object(h.jsx)("div",{style:{display:"flex",alignSelf:"center",fontSize:"11px"},children:Object(h.jsxs)("b",{style:{fontSize:"16px"},children:[e.time," "]})}),Object(h.jsxs)("div",{style:{display:"flex",alignSelf:"center",fontSize:"11px"},children:[Object(h.jsxs)("b",{style:{marginRight:"3px"},children:[a," "]}),Object(h.jsx)(D.a,{children:"people"})]}),Object(h.jsx)("span",{children:Object(h.jsxs)("b",{style:{fontSize:"16px"},children:["\u20ba",e.price*a]})})]}),Object(h.jsx)("div",{children:Object(h.jsxs)("b",{children:[null===(i=e.from)||void 0===i?void 0:i.name," ",">>"," ",null===(n=e.to)||void 0===n?void 0:n.name]})}),Object(h.jsx)("div",{children:e.code}),Object(h.jsxs)("div",{children:["Duration: ",e.duration]})]})}),Object(h.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"40%",flexDirection:"column"},children:[Object(h.jsxs)("div",{style:{display:"flex",alignItems:"center",flexDirection:"column",height:"100px",width:"140px"},children:[Object(h.jsx)("img",{src:null===(r=e.airline)||void 0===r?void 0:r.logo,alt:"flight_img",style:{height:"40px",width:"40px"}}),Object(h.jsx)(o.a,{variant:"subtitle1",children:null===(c=e.airline)||void 0===c?void 0:c.name})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"button",className:"btn btn-sm btn-info",disabled:0===e.available,children:Object(h.jsx)("b",{children:"Book"})})})]})]}),0!==e.available&&e.available<5&&Object(h.jsxs)("span",{style:{fontSize:"15px",color:"#e30909",fontWeight:600},children:[e.available," available seat left"]}),0===e.available&&Object(h.jsx)("span",{style:{fontSize:"15px",color:"#5c5c5c",fontWeight:600},children:"FULL"})]})},t)}))})},w=a.p+"static/media/airplane.969b2a3d.png";var k=function(){return Object(h.jsx)("div",{className:"h-100 d-flex justify-content-center",style:{alignItems:"center"},children:Object(h.jsx)("div",{className:"d-flex justify-content-center",children:Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"d-flex justify-content-center",children:Object(h.jsx)("div",{style:{height:"100px",width:"100px"},children:Object(h.jsx)("img",{src:w,alt:"logo",style:{height:"100%",width:"100%"}})})}),Object(h.jsx)("div",{className:"text-muted",style:{fontSize:"20px",fontWeight:"bold"},children:"Search for flights"})]})})})};var z=function(){return Object(h.jsx)("div",{className:"h-100 d-flex justify-content-center",style:{alignItems:"center"},children:Object(h.jsx)("div",{className:"d-flex justify-content-center",children:Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"text-muted",style:{fontSize:"20px",fontWeight:"bold"},children:"There is no available flights"})})})})},W=a(281);var I=function(){return Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsxs)("div",{className:"h-100",style:{alignItems:"center"},children:[Object(h.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(h.jsx)("div",{style:{margin:"16px"},children:Object(h.jsx)(W.a,{variant:"rectangular",width:500,height:50})}),Object(h.jsx)("div",{style:{margin:"16px"},children:Object(h.jsx)(W.a,{variant:"rectangular",width:500,height:50})})]}),Object(h.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(h.jsx)("div",{style:{margin:"16px"},children:Object(h.jsx)(W.a,{variant:"rectangular",width:500,height:200})}),Object(h.jsx)("div",{style:{margin:"16px"},children:Object(h.jsx)(W.a,{variant:"rectangular",width:500,height:200})})]}),Object(h.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(h.jsx)("div",{style:{margin:"16px"},children:Object(h.jsx)(W.a,{variant:"rectangular",width:500,height:200})}),Object(h.jsx)("div",{style:{margin:"16px"},children:Object(h.jsx)(W.a,{variant:"rectangular",width:500,height:200})})]})]}),Object(h.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(h.jsx)("div",{style:{margin:"16px"},children:Object(h.jsx)(W.a,{variant:"rectangular",width:500,height:200})}),Object(h.jsx)("div",{style:{margin:"16px"},children:Object(h.jsx)(W.a,{variant:"rectangular",width:500,height:200})})]})]})};var R=function(e){var t=e.originCity,a=e.destinationCity,n=e.flights,r=e.bookReturn,c=e.isSearchClicked,s=e.passengerCount,l=e.isLoading,o=Object(i.useState)([]),d=Object(m.a)(o,2),j=d[0],u=d[1],b=Object(i.useState)(""),f=Object(m.a)(b,2),p=f[0],O=f[1];Object(i.useEffect)((function(){D()}),[]);var D=function(){Object(x.a)("/api/airlines").then((function(e){return u(e.data.airlines)})).catch((function(e){return console.log(e)}))},w=n.map((function(e){var i=t.id!==e.from,n=j.find((function(t){return t.id===e.airline})),r=i?a:t,c=i?t:a;return Object(g.a)(Object(g.a)({},e),{},{airline:n,from:r,to:c,isReturn:i})})).sort((function(e,t){return console.log(e.time),"price"===p?e.price-t.price:"departure"===p?parseInt(e.time)-parseInt(t.time):"duration"===p?e.duration-t.duration:0}));return Object(h.jsx)("div",{className:"card",style:{height:"100%",marginTop:"32px"},children:l?Object(h.jsx)(I,{}):Object(h.jsx)("div",{className:"card-body",children:c||0!==n.length?c&&0===n.length?Object(h.jsx)(z,{}):Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"d-flex justify-content-between mb-4",children:[Object(h.jsxs)("div",{style:{fontSize:"20px",fontWeight:"bold"},children:[Object(h.jsx)("span",{children:Object(h.jsx)("img",{src:N,alt:"arrow",className:"ml-2"})})," ","Available flights"]}),Object(h.jsxs)(v.a,{variant:"standard",sx:{m:1,minWidth:100},children:[Object(h.jsx)(y.a,{id:"select-sort-label",children:"Sort By"}),Object(h.jsxs)(S.a,{labelId:"select-sort-label",id:"select-sort",value:p,onChange:function(e){return O(e.target.value)},autoWidth:!0,label:"Sort By",children:[Object(h.jsx)(C.a,{value:"",children:Object(h.jsx)("em",{children:"None"})}),Object(h.jsx)(C.a,{value:"price",children:"Price"}),Object(h.jsx)(C.a,{value:"departure",children:"Departure Time"}),Object(h.jsx)(C.a,{value:"duration",children:"Duration Time"})]})]})]}),Object(h.jsx)("div",{children:r&&c?Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"col",children:[Object(h.jsxs)("div",{style:{color:"deepskyblue",fontWeight:"bold"},children:["Departure flight",Object(h.jsx)("p",{style:{fontSize:"15px"},children:t.city})]}),Object(h.jsx)(T,{data:w.filter((function(e){return!e.isReturn})),passengerCount:s})]}),n.length&&n?Object(h.jsxs)("div",{className:"col",children:[Object(h.jsxs)("div",{style:{color:"deepskyblue",fontWeight:"bold"},children:["Return flight",Object(h.jsx)("p",{style:{fontSize:"15px"},children:a.city})]}),Object(h.jsx)(T,{data:w.filter((function(e){return e.isReturn})),passengerCount:s})]}):null]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{style:{color:"deepskyblue",fontWeight:"bold"},children:["Departure flight",Object(h.jsx)("p",{style:{fontSize:"15px"},children:a.city})]}),Object(h.jsx)(T,{data:w,passengerCount:s})]})})]}):Object(h.jsx)(k,{})})})},B=a(282),Y=a(272),A=a(277),F=a(138),H=a.n(F),P=a(139),K=a.n(P),L=a(268);var G=function(e){var t=e.handleBookType,a=e.airports,i=e.originCity,n=e.setOriginCity,r=e.destinationCity,c=e.setDestinationCity,s=e.departureDate,l=e.setDepartureDate,o=e.btnType,d=e.returnDate,j=e.setReturnDate,u=e.passengerCount,b=e.handleCount,m=e.handleSearch;return Object(h.jsx)("div",{className:"card mt-3",children:Object(h.jsx)("div",{className:"card-body",children:Object(h.jsx)("div",{className:"card",children:Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("div",{className:"btn-group d-flex justify-content-center mb-3",children:[{name:"Round trip",id:"return"},{name:"One way",id:"oneWay"}].map((function(e){return Object(h.jsx)(B.a,{className:"btn",variant:o===e.id?"contained":"outlined",color:"primary",onClick:function(){return t(e.id)},children:e.name},e.id)}))}),Object(h.jsx)(v.a,{fullWidth:!0,sx:{m:1},children:Object(h.jsx)(Y.a,{id:"from-airport",options:a.sort((function(e,t){return-t.name.localeCompare(e.name)})),groupBy:function(e){return e.city},getOptionLabel:function(e){return"".concat(e.name," (").concat(e.short,")")},sx:{width:"100%"},renderInput:function(e){return Object(h.jsx)(A.a,Object(g.a)(Object(g.a)({},e),{},{label:"From"}))},value:i,onChange:function(e,t){n(t)}})}),Object(h.jsx)("div",{className:"d-flex justify-content-center",children:Object(h.jsx)("div",{className:"text-muted",children:"return"===o?Object(h.jsx)(H.a,{}):Object(h.jsx)(K.a,{})})}),Object(h.jsx)(v.a,{fullWidth:!0,sx:{m:1},children:Object(h.jsx)(Y.a,{id:"to-airport",options:a.sort((function(e,t){return-t.name.localeCompare(e.name)})),groupBy:function(e){return e.city},getOptionLabel:function(e){return"".concat(e.name," (").concat(e.short,")")},sx:{width:"100%"},renderInput:function(e){return Object(h.jsx)(A.a,Object(g.a)(Object(g.a)({},e),{},{label:"To"}))},value:r,onChange:function(e,t){return c(t)}})}),Object(h.jsx)(v.a,{fullWidth:!0,sx:{m:1},children:Object(h.jsx)(L.a,{label:"Departure date",value:s,onChange:function(e){return l(e)}})}),"return"===o&&Object(h.jsx)(v.a,{fullWidth:!0,sx:{m:1},children:Object(h.jsx)(L.a,{label:"Return date",value:d,onChange:function(e){return j(e)}})}),Object(h.jsxs)("div",{className:"d-flex justify-content-center mt-2",style:{alignItems:"center"},children:[Object(h.jsx)("button",{type:"button",className:"btn btn-secondary mr-2",onClick:function(){return b("less")},children:"-"}),Object(h.jsxs)("div",{className:"text-muted",children:[u," passengers"]}),Object(h.jsx)("button",{type:"button",className:"btn btn-secondary ml-2",onClick:function(){return b("add")},children:"+"})]}),Object(h.jsx)("div",{children:Object(h.jsx)(B.a,{type:"button",className:"btn search_btn mt-2",onClick:m,children:Object(h.jsx)("b",{children:"Search flights"})})})]})})})})};var E=function(){var e=Object(i.useState)(!1),t=Object(m.a)(e,2),a=t[0],n=t[1],r=Object(i.useState)("return"),c=Object(m.a)(r,2),s=c[0],l=c[1],o=Object(i.useState)(1),d=Object(m.a)(o,2),j=d[0],u=d[1],b=Object(i.useState)(!0),p=Object(m.a)(b,2),g=p[0],v=p[1],y=Object(i.useState)(null),S=Object(m.a)(y,2),C=S[0],N=S[1],D=Object(i.useState)(null),T=Object(m.a)(D,2),w=T[0],k=T[1],z=Object(i.useState)(null),W=Object(m.a)(z,2),I=W[0],B=W[1],Y=Object(i.useState)(null),A=Object(m.a)(Y,2),F=A[0],H=A[1],P=Object(i.useState)(!1),K=Object(m.a)(P,2),L=K[0],E=K[1],M=Object(i.useState)([]),X=Object(m.a)(M,2),_=X[0],J=X[1],U=Object(i.useState)([]),Z=Object(m.a)(U,2),q=Z[0],Q=Z[1];Object(i.useEffect)((function(){V()}),[]);var V=function(){Object(x.a)("/api/airports").then((function(e){return J(e.data.airports)})).catch((function(e){return console.log(e)}))};return Object(h.jsxs)(f.a,{children:[Object(h.jsx)(G,{handleBookType:function(e){l(e),"oneWay"===e?(E(!1),v(!1),H(null)):"return"===e&&(E(!1),v(!0))},airports:_,originCity:C,setOriginCity:N,destinationCity:w,setDestinationCity:k,departureDate:I,setDepartureDate:B,btnType:s,returnDate:F,setReturnDate:H,passengerCount:j,handleCount:function(e){if("add"===e){if(j>=5)return;u(j+1)}else if("less"===e){if(1===j)return;u(j-1)}},handleSearch:function(){g&&!F?alert("Return date can't be empty!"):C?w?I?g&&!F&&alert("Return date can't be empty!"):alert("Departure date can't be empty!"):alert("Destination city can't be empty!"):alert("Origin city can't be empty!"),C&&w&&I&&(n(!0),E(!0),function(e){var t=C.short,a=w.short,i=O()(I).format("YYYY-MM-DD"),r=O()(F).format("YYYY-MM-DD"),c="/api/flights/".concat(t,"/").concat(a,"/").concat(i);g&&F&&(c+="/".concat(r)),Object(x.a)(c).then((function(e){Q(e.data.flights)})).finally((function(){n(!1)})).catch((function(e){return console.log(e)}))}())}}),Object(h.jsx)(R,{originCity:C,destinationCity:w,flights:q,bookReturn:g,isSearchClicked:L,passengerCount:j,isLoading:a})]})};a(188);var M=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(b,{}),Object(h.jsx)(E,{})]})},X=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,294)).then((function(t){var a=t.getCLS,i=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),i(e),n(e),r(e),c(e)}))},_=a(140),J=a(267),U=(a(189),a(47)),Z=U.b.extend();Object(U.d)({serializers:{application:Z},models:{airport:U.a,airline:U.a,flight:U.a.extend({from:Object(U.c)("airport"),to:Object(U.c)("airport"),airline:Object(U.c)("airline")})},seeds:function(e){var t=e.create("airport",{name:"\u0130stanbul Havaliman\u0131",city:"\u0130stanbul",short:"IST"}),a=e.create("airport",{name:"Esenbo\u011fa Havaliman\u0131",city:"Ankara",short:"ESB"}),i=e.create("airport",{name:"Adnan Menderes Havaliman\u0131",city:"\u0130zmir",short:"ADB"}),n=e.create("airport",{name:"Antalya Havaliman\u0131",city:"Antalya",short:"ANT"}),r=e.create("airport",{name:"Sabiha G\xf6k\xe7en Havaliman\u0131",city:"\u0130stanbul",short:"SAW"}),c=e.create("airport",{name:"Trabzon Havaliman\u0131",city:"Trabzon",short:"TZX"}),s=e.create("airline",{name:"T\xfcrk Hava Yollar\u0131",short:"THY",logo:"https://companieslogo.com/img/orig/THYAO.IS-f22d40e8.png?t=1684333313"}),l=e.create("airline",{name:"Pegasus",short:"PGT",logo:"https://cdn.worldvectorlogo.com/logos/pegasus-airlines.svg"}),o=e.create("airline",{name:"SunExpress",short:"SXS",logo:"https://cdn.worldvectorlogo.com/logos/sunexpress.svg"});e.create("flight",{from:t,to:a,price:1200,date:"2023-09-03",time:"07:00",duration:"1 hour 5 minutes",capacity:100,available:20,airline:s,code:"TK2023"}),e.create("flight",{from:a,to:t,price:2500,date:"2023-09-03",time:"19:00",duration:"1 hour 15 minutes",capacity:100,available:12,airline:s,code:"TK2224"}),e.create("flight",{from:t,to:i,price:1300,date:"2023-09-03",time:"09:00",duration:"1 hour 10 minutes",capacity:100,available:20,airline:s,code:"TK2343"}),e.create("flight",{from:i,to:t,price:1900,date:"2023-09-03",time:"22:00",duration:"2 hour 30 minutes",capacity:100,available:0,airline:s,code:"TK3843"}),e.create("flight",{from:r,to:c,price:2700,date:"2023-09-03",time:"06:15",duration:"1 hour 45 minutes",capacity:100,available:2,airline:l,code:"PG3484"}),e.create("flight",{from:c,to:r,price:2350,date:"2023-09-03",time:"16:00",duration:"1 hour 50 minutes",capacity:100,available:16,airline:l,code:"PG2056"}),e.create("flight",{from:t,to:a,price:1600,date:"2023-09-03",time:"11:00",duration:"1 hour 5 minutes",capacity:100,available:15,airline:o,code:"SX4330"}),e.create("flight",{from:t,to:c,price:1200,date:"2023-09-03",time:"08:00",duration:"1 hour 20 minutes",capacity:100,available:0,airline:s,code:"TK2033"}),e.create("flight",{from:t,to:a,price:1200,date:"2023-09-03",time:"09:00",duration:"1 hour 15 minutes",capacity:100,available:1,airline:s,code:"TK2933"}),e.create("flight",{from:t,to:a,price:1200,date:"2023-09-03",time:"12:00",duration:"1 hour 20 minutes",capacity:100,available:5,airline:s,code:"TK3302"}),e.create("flight",{from:i,to:r,price:1200,date:"2023-09-03",time:"14:00",duration:"1 hour 10 minutes",capacity:100,available:7,airline:s,code:"TK2677"}),e.create("flight",{from:c,to:r,price:2900,date:"2023-09-03",time:"17:00",duration:"1 hour 50 minutes",capacity:100,available:4,airline:l,code:"PG4421"}),e.create("flight",{from:n,to:t,price:1100,date:"2023-09-03",time:"18:00",duration:"1 hour 40 minutes",capacity:100,available:3,airline:l,code:"PG4533"}),e.create("flight",{from:n,to:t,price:1350,date:"2023-09-03",time:"10:00",duration:"1 hour 10 minutes",capacity:100,available:1,airline:o,code:"SX2543"}),e.create("flight",{from:a,to:t,price:1620,date:"2023-09-03",time:"20:00",duration:"1 hour 15 minutes",capacity:100,available:25,airline:o,code:"SX2126"})},routes:function(){this.namespace="api",this.get("/flights"),this.get("/airports"),this.get("/airlines"),this.get("/flights/:from/:to/:date",(function(e,t){return e.flights.all().filter((function(e){return e.date===t.params.date&&e.from.short===t.params.from&&e.to.short===t.params.to}))})),this.get("/flights/:from/:to/:date/:date2",(function(e,t){return e.flights.all().filter((function(e){return e.date===t.params.date&&e.from.short===t.params.from&&e.to.short===t.params.to||e.date===t.params.date2&&e.from.short===t.params.to&&e.to.short===t.params.from}))}))}}),c.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(_.a,{dateAdapter:J.a,children:Object(h.jsx)(M,{})})}),document.getElementById("root")),X()}},[[192,1,2]]]);
//# sourceMappingURL=main.b12769e7.chunk.js.map